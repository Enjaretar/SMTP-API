<html><head><title>SMTP-API</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}.c11{border-bottom-width:1pt;border-top-style:solid;width:165pt;border-right-style:solid;padding:2.8pt 2.8pt 2.8pt 2.8pt;border-bottom-color:#d9d9d9;border-top-width:1pt;border-bottom-style:solid;vertical-align:top;border-top-color:#d9d9d9;border-left-color:#d9d9d9;border-right-color:#d9d9d9;border-left-style:solid;border-right-width:1pt;border-left-width:1pt}.c3{border-bottom-width:1pt;border-top-style:solid;width:150.2pt;border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-bottom-style:solid;vertical-align:top;border-top-color:#000000;border-left-color:#000000;border-right-color:#000000;border-left-style:solid;border-right-width:1pt;border-left-width:1pt}.c17{border-bottom-width:1pt;border-top-style:solid;width:26.5pt;border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-bottom-style:solid;vertical-align:top;border-top-color:#000000;border-left-color:#000000;border-right-color:#000000;border-left-style:solid;border-right-width:1pt;border-left-width:1pt}.c10{vertical-align:baseline;color:#000000;font-size:11pt;font-style:normal;font-family:"Arial";text-decoration:none;font-weight:normal}.c23{vertical-align:baseline;color:#000000;font-style:normal;font-family:"Arial";text-decoration:none;font-weight:normal}.c4{line-height:1.15;padding-top:0pt;text-align:left;padding-bottom:0pt}.c19{line-height:1.0;padding-top:0pt;text-align:left;padding-bottom:0pt}.c24{margin-right:auto;border-collapse:collapse}.c28{max-width:495pt;background-color:#ffffff;padding:72pt 45pt 72pt 72pt}.c15{color:#dd0000;font-size:10pt}.c13{color:inherit;text-decoration:inherit}.c0{height:11pt;direction:ltr}.c5{color:#007700;font-size:10pt}.c18{color:#0000bb;font-size:10pt}.c14{color:#1155cc;text-decoration:underline}.c20{font-size:16pt;font-family:"Trebuchet MS"}.c6{margin-left:36pt}.c21{height:13pt}.c1{direction:ltr}.c27{color:#0000bb}.c16{height:0pt}.c22{font-size:10pt}.c2{font-family:"Courier New"}.c12{font-size:9pt}.c8{height:16pt}.c9{text-indent:36pt}.c25{color:#007700}.c26{height:12pt}.c7{font-weight:bold}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c28"><p class="c1 title"><a name="h.1j2t2jjt1yc1"></a><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 600.00px; height: 75.00px;"><img alt="" src="images/image00.gif" style="width: 600.00px; height: 75.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 title"><a name="h.2p9hyem0o4ng"></a></p><p class="c1 title"><a name="h.fng3j5kf8scc"></a><span>SMTP-API Documentaci&oacute;n T&eacute;cnica</span></p><p class="c0"><span></span></p><p class="c1"><span class="c20">1. Descripci&oacute;n.</span></p><p class="c1"><span class="c20">2. Especificaciones t&eacute;cnicas.</span></p><p class="c1"><span class="c20">3. Ejemplos de uso</span></p><p class="c1"><span class="c20">4. C&oacute;digos de respuesta de error</span></p><p class="c1"><span class="c20">5. Guardado de datos</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span>soporte@teenvio.com</span></p><p class="c1"><span>Teenvio.com</span></p><p class="c1"><span>Septiembre 2013</span></p><h1 class="c1"><a name="h.70tlx0pan2zo"></a><span>1. Descripci&oacute;n.</span></h1><p class="c0"><span></span></p><p class="c1"><span>Teenvio es una herramienta de email marketing; esto quiere decir que es una herramienta que </span><span>m</span><span>aneja grandes vol&uacute;menes de correo electr&oacute;nico y hablar de correo electr&oacute;nico es hablar de SMTP.</span></p><p class="c0"><span></span></p><p class="c1"><span>SMTP es un protocolo de transferencia de correo electr&oacute;nico. La primera especificaci&oacute;n oficial consta de 1982 y se ha ido mejorando a lo largo del tiempo.</span></p><p class="c0"><span></span></p><p class="c1"><span>Teenvio, al igual que cualquier otro servicio de email marketing, utiliza internamente SMTP. Con la implantaci&oacute;n de este nuevo servicio permitimos adicionalmente, a la utilizaci&oacute;n de nuestra herramienta, que los propios usuarios de teenvio puedan comunicarse con nuestro sistema a trav&eacute;s de dicho protocolo.</span></p><p class="c0"><span></span></p><p class="c1"><span>Si SMTP es el protocolo para enviar correos electr&oacute;nicos y teenvio es una herramienta que permite realizar campa&ntilde;as de email marketing tiene sentido que puedas utilizar el protocolo SMTP para enviar correos a trav&eacute;s de teenvio.com, uniendo la facilidad del uso del SMTP con la potencia de los servidores de salida de teenvio y sus amplias estad&iacute;sticas resultantes en campa&ntilde;as de email marketing.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h1 class="c1"><a name="h.dhlx9xvnimg3"></a><span>2. Especificaciones t&eacute;cnicas.</span></h1><p class="c0"><span></span></p><h2 class="c1"><a name="h.zgc81ibuy8yo"></a><span>2.1. Est&aacute;ndares</span></h2><p class="c0"><span></span></p><p class="c1"><span>El servidor SMTP est&aacute; creado siguiendo los est&aacute;ndares aplicables, especialmente los siguientes:</span></p><p class="c0"><span></span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc821&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNG2OR7fayUWd88mDMwyYJzUuW9_1g">http://tools.ietf.org/html/rfc821</a></span><span class="c12">&nbsp; - 1982 - SIMPLE MAIL TRANSFER PROTOCOL</span></p><p class="c1"><span class="c12 c14"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc1521&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHA_wpUi3bjTO2uHr8vLir7L2V-0g">http://tools.ietf.org/html/rfc1521</a></span><span class="c12">&nbsp;- 1993 - MIME (Multipurpose Internet Mail Extensions) Part One: Mechanisms for Specifying and Describing the Format of Internet Message Bodies</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc1522&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHzOc6DQUURrNdriDYvjgvMP0N3qQ">http://tools.ietf.org/html/rfc1522</a></span><span class="c12">&nbsp;- 1993 - MIME (Multipurpose Internet Mail Extensions) Part Two: Message Header Extensions for Non-ASCII Text</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc1869&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEgQ3jUASxzCvvqhZ8wXBhqys6xmQ">http://tools.ietf.org/html/rfc1869</a></span><span class="c12">&nbsp;- 1995 - SMTP Service Extensions</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc1870&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFJH3hGLfQ3JY2yxKmNfC277GvHsQ">http://tools.ietf.org/html/rfc1870</a></span><span class="c12">&nbsp;- 1995 - SMTP Service Extension for Message Size Declaration</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2392&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFTpbYw5RxJtQZT4aIb1J8PM30g0Q">http://tools.ietf.org/html/rfc2392</a></span><span class="c12">&nbsp;- 1998 - Content-ID and Message-ID Uniform Resource Locators</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2821&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNH43QRw5CAxzyXbYYTIDegVE0-ZPQ">http://tools.ietf.org/html/rfc2821</a></span><span class="c12">&nbsp;- 2001 - Simple Mail Transfer Protocol</span></p><p class="c1"><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc3207&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHbe1cxKcwV4IDrDxz1KHCDO8ghMg">http://tools.ietf.org/html/rfc3207</a></span><span class="c12">&nbsp;- 2002 - SMTP Service Extension for Secure SMTP over Transport Layer Security</span></p><p class="c0"><span class="c12"></span></p><p class="c1"><span>Con esto se pretende garantizar que cualquier cliente SMTP que cumpla dichos est&aacute;ndares pueda comunicarse con nuestro servidor SMTP sin problemas.</span></p><p class="c0"><span></span></p><p class="c1"><span>Igualmente permite, dadas las especificaciones abiertas y p&uacute;blicas, utilizar dichas especificaciones para conectar directamente al servidor SMTP desde un desarrollo propio en cualquier lenguaje de programaci&oacute;n y plataforma.</span></p><p class="c0"><span></span></p><h2 class="c1"><a name="h.8cw1nncipf6o"></a><span>2.2. Par&aacute;metros</span></h2><p class="c0"><span></span></p><p class="c1"><span>El servidor SMTP-API de teenvio escucha en dos puertos TCP/IP con las siguientes caracter&iacute;sticas:</span></p><p class="c0"><span></span></p><a href="#" name="28ce08467006a2670203c0c515f08ea13cbbf15b"></a><a href="#" name="0"></a><table cellpadding="0" cellspacing="0" class="c24"><tbody><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">puerto tcp</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">2500</span></p></td><td class="c11"><p class="c1 c19"><span class="c23 c22">46500</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">host</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">api.teenvio.com</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">api.teenvio.com</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">cifrado inicial</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">-</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">ssl</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">cifrado bajo demanda</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">si (STARTTLS/TLS)</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">-</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">tama&ntilde;o m&aacute;ximo mensaje</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">500kb</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">500kb</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c23 c22">requiere login</span></p></td><td class="c11"><p class="c19 c1"><span class="c23 c22">si</span></p></td><td class="c11"><p class="c19 c1"><span class="c22 c23">si</span></p></td></tr><tr class="c16"><td class="c11"><p class="c19 c1"><span class="c22">m&eacute;todo para el login</span></p></td><td class="c11"><p class="c19 c1"><span class="c22">AUTH LOGIN</span></p></td><td class="c11"><p class="c19 c1"><span class="c22">AUTH LOGIN</span></p></td></tr></tbody></table><h2 class="c1"><a name="h.c099n4z8oq2e"></a><span>2.3. Particularidades</span></h2><p class="c0"><span></span></p><p class="c1"><span>Para que teenvio acepte el mensaje debe al menos tener dos partes, una de</span><span class="c7">&nbsp;texto plano</span><span>&nbsp;(Content-Type:text/plain) y otra de</span><span class="c7">&nbsp;texto HTML</span><span>&nbsp;(Content-Type:text/html), si no teenvio rechazar&aacute; el mensaje por estar incompleto.</span></p><p class="c0"><span></span></p><p class="c1"><span>Es</span><span class="c7">&nbsp;obligatorio identificarse</span><span>&nbsp;en la herramienta con el nombre de usuario y contrase&ntilde;a que se utiliza en teenvio.</span></p><p class="c0"><span></span></p><p class="c1"><span>Los </span><span class="c7">archivos adjuntos son ignorados </span><span>a menos que est&eacute;n referenciados en el html como im&aacute;genes incrustadas (ver </span><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2392&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFTpbYw5RxJtQZT4aIb1J8PM30g0Q">rfc2392</a></span><span>)</span></p><p class="c0"><span></span></p><p class="c1"><span class="c7">Al finalizar</span><span>&nbsp;correctamente un env&iacute;o, </span><span class="c7">se manda</span><span>&nbsp;junto con el OK </span><span class="c7">el id del env&iacute;o generado</span><span>,</span><span>&nbsp;&uacute;til para; por ejemplo, consultar su estad&iacute;stica mediante api https://github.com/teenvio/SOAP-API</span></p><p class="c0"><span></span></p><p class="c1"><span>Existen unas </span><span class="c7">cabeceras espec&iacute;ficas</span><span>&nbsp;de teenvio que pueden incluirse en la cabecera principal de un mensaje para personalizar ciertos par&aacute;metros del env&iacute;o:</span></p><p class="c0"><span></span></p><h3 class="c1"><a name="h.h7bwz4rjd2rn"></a><span>2.3.1 Cabecera de mensaje</span></h3><p class="c0"><span></span></p><p class="c1"><span class="c2">X-Teenvio-ShowCab</span></p><p class="c1"><span>Cabecera que le indica a teenvio si debe o no mostrar la cabecera con el t&iacute;pico mensaje &ldquo;Si no puede ver correctamente pinche aqu&iacute;&rdquo;, por defecto est&aacute; activada, para desactivarla debe establecerse a &ldquo;no&rdquo;: </span><span class="c2">X-Teenvio-ShowCab: no</span></p><p class="c0"><span></span></p><h3 class="c1"><a name="h.m6cvoeah1kvm"></a><span>2.3.2 Redes sociales</span></h3><p class="c0"><span></span></p><p class="c1"><span class="c2">X-Teenvio-SocialLinks</span></p><p class="c1"><span>Cabecera que le indica a teenvio si debe o no mostrar los iconos con los links a los perfiles sociales en el pi&eacute; del env&iacute;o. Por defecto est&aacute; desactivado, para activarlo se debe establecer a &ldquo;yes&rdquo;:</span></p><p class="c1"><span class="c2">X-Teenvio-SocialLinks: yes</span></p><h3 class="c1 c26"><a name="h.5orj2ywqribs"></a></h3><h3 class="c1"><a name="h.6hl34degy61w"></a><span>2.3.3 Idioma</span></h3><p class="c0"><span class="c2"></span></p><p class="c1"><span class="c2">X-Teenvio-Language</span></p><p class="c1"><span>Cabecera que le indica a teenvio qu&eacute; idioma debe utilizar en los textos de cabecera y pi&eacute; que se insertan de forma autom&aacute;tica, es un valor num&eacute;rico, por defecto est&aacute; establecido en &lsquo;3&rsquo;, correspondiente al idioma Espa&ntilde;ol/Castellano, la actual lista de Idiomas es la siguiente:</span></p><p class="c0"><span></span></p><a href="#" name="611c8a3222f2ac9c94cc33270e2f77c1b2e1a28b"></a><a href="#" name="1"></a><table cellpadding="0" cellspacing="0" class="c24"><tbody><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">id</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">nombre</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">3</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Espa&ntilde;ol/Castellano</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">4</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Ingl&eacute;s</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">5</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Italiano</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">6</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Franc&eacute;s</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">7</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Alem&aacute;n</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">8</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Holand&eacute;s</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">11</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Portugu&eacute;s</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">13</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Noruego</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">14</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Sueco</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">15</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Catal&aacute;n</span></p></td></tr><tr class="c16"><td class="c17"><p class="c1 c4"><span class="c10">16</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Finland&eacute;s</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">17</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Gallego</span></p></td></tr><tr class="c16"><td class="c17"><p class="c4 c1"><span class="c10">18</span></p></td><td class="c3"><p class="c4 c1"><span class="c10">Euskera</span></p></td></tr></tbody></table><p class="c0"><span></span></p><p class="c1"><span>Ejemplo que indicar&iacute;a idioma ingl&eacute;s:</span></p><p class="c1"><span class="c2">X-Teenvio-Language: 4</span></p><p class="c0"><span></span></p><p class="c1"><span>Puede ver un ejemplo de uso en la secci&oacute;n 3.2.2. Protocolo</span></p><p class="c0"><span></span></p><h1 class="c1 c8"><a name="h.qe0r0g6ppaxa"></a></h1><hr style="page-break-before:always;display:none;"><h1 class="c1 c8"><a name="h.of2e6hjoxtjp"></a></h1><h1 class="c1"><a name="h.rbw8att3cm6t"></a><span>3. Ejemplos de uso</span></h1><p class="c0"><span></span></p><h2 class="c1"><a name="h.ownzh6rjz0p"></a><span>3.1 Utilizando el servidor SMTP en un cliente de correo electr&oacute;nico:</span></h2><p class="c0"><span></span></p><p class="c1"><span>La forma m&aacute;s sencilla de utilizar el SMTP-API de teenvio es configurando tu cliente de correo electr&oacute;nico para que utilice nuestro servidor smtp. De esta forma, si env&iacute;as una campa&ntilde;a de email marketing utilizando dicho SMTP el env&iacute;o lo gestionar&aacute; teenvio.</span></p><p class="c0"><span></span></p><p class="c1"><span>Configuraci&oacute;n de servidor de correo saliente SMTP desde gestores de correo </span></p><p class="c0"><span></span></p><p class="c1"><span class="c7">Servidor SMTP </span><span>- api.teenvio.com</span></p><p class="c1"><span class="c7">Puerto</span><span>&nbsp;- 46500</span></p><p class="c1"><span class="c7">Seguridad</span><span>&nbsp;- SSL/TLS</span></p><p class="c1"><span class="c7">M&eacute;todo de identificaci&oacute;n</span><span>- contrase&ntilde;a normal</span></p><p class="c1"><span class="c7">Nombre de usuario</span><span>&nbsp;- usuario teenvio (usuario.nombredeplan)</span></p><p class="c1"><span class="c7">Clave </span><span>- clave teenvio</span></p><p class="c0"><span></span></p><p class="c1"><span>Aqu&iacute; se ve, por ejemplo, la configuraci&oacute;n del SMTP en el cliente de correo electr&oacute;nico Mail Apple &nbsp;Thunderbird:</span></p><p class="c0"><span></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 322.00px; height: 291.00px;"><img alt="" src="images/image03.png" style="width: 322.00px; height: 291.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 320.00px; height: 290.00px;"><img alt="" src="images/image02.png" style="width: 320.00px; height: 290.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 665.00px; height: 562.00px;"><img alt="" src="images/image01.jpg" style="width: 665.00px; height: 562.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span></span></p><p class="c1"><span>Utilizar un cliente de correo electr&oacute;nico que haga uso del SMTP puede ser &uacute;til para pruebas</span></p><h2 class="c1 c21"><a name="h.izn725a4x0zb"></a></h2><hr style="page-break-before:always;display:none;"><h2 class="c21 c1"><a name="h.3rdr28lez3j0"></a></h2><h2 class="c1"><a name="h.bl6iegvm0dy0"></a><span>3.2 Mediante programaci&oacute;n para utilizarlo en sus desarrollos</span></h2><p class="c0"><span></span></p><p class="c1"><span>Con los par&aacute;metros adecuados, tal y como explicamos en el presente documento, es f&aacute;cil realizar un env&iacute;o con nuestro SMTP mediante programaci&oacute;n, veamos alg&uacute;n ejemplo:</span></p><p class="c0"><span></span></p><h3 class="c1"><a name="h.3xny4wfwn96n"></a><span>3.2.1 PHP5</span></h3><p class="c0"><span></span></p><p class="c1"><span>Ejemplo en php5 donde conectamos al servidor SMTP, mostramos su mensaje inicial, saludamos y definimos el saludo personalizado que nos devuelve, luego cerramos la conexi&oacute;n.</span></p><p class="c0"><span class="c27"></span></p><p class="c1"><span class="c18">&lt;?php</span></p><p class="c1"><span class="c18">$fp </span><span class="c5">= </span><span class="c18">stream_socket_client</span><span class="c5">(</span><span class="c15">&quot;ssl://api.teenvio.com:46500&quot;</span><span class="c5">, </span><span class="c18">$errno</span><span class="c5">, </span><span class="c18">$errstr</span><span class="c5">, </span><span class="c18">30</span><span class="c5">);</span></p><p class="c1"><span class="c5">if (!</span><span class="c18">$fp</span><span class="c5">) {</span></p><p class="c1 c9"><span class="c5">echo </span><span class="c15">&quot;</span><span class="c18">$errstr</span><span class="c15">&nbsp;(</span><span class="c18">$errno</span><span class="c15">)&lt;br /&gt;\n&quot;</span><span class="c5">;</span></p><p class="c1"><span class="c5">} else {</span></p><p class="c1 c9"><span class="c5">echo </span><span class="c15">&quot;Conexi&oacute;n v&aacute;lida, saludo del SMTP:&lt;br/&gt;\n&quot;</span><span class="c5">;</span></p><p class="c0 c9"><span class="c5"></span></p><p class="c1 c9"><span class="c18">$buffer </span><span class="c5">= </span><span class="c18">fgets</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">, </span><span class="c18">1024</span><span class="c5">);</span></p><p class="c6 c1"><span class="c5">echo </span><span class="c18">$buffer.</span><span class="c15">&quot;&lt;br/&gt;\n&quot;</span><span class="c5">;</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c6 c1"><span class="c5">echo </span><span class="c15">&quot;Contesto al saludo y su respuesta es:&lt;br/&gt;\n&quot;</span><span class="c5">;</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c6 c1"><span class="c18">fwrite</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">, </span><span class="c15">&quot;EHLO PruebaPHP\n&quot;</span><span class="c5">);</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c1 c9"><span class="c5">while ((</span><span class="c18">$buffer </span><span class="c5">= </span><span class="c18">fgets</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">, </span><span class="c18">1024</span><span class="c5">)) !== </span><span class="c18">false</span><span class="c5">) {</span></p><p class="c6 c1 c9"><span class="c5">echo </span><span class="c18">$buffer.</span><span class="c15">&quot;&lt;br/&gt;\n&quot;</span><span class="c5">;</span></p><p class="c6 c1 c9"><span class="c5">if(substr(</span><span class="c18">$buffer,0,4</span><span class="c5">) == </span><span class="c15">&quot;250 &quot;</span><span class="c5">) break;</span></p><p class="c6 c1"><span class="c5">}</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c6 c1"><span class="c5">echo </span><span class="c15">&quot;Finalizo esta prueba&lt;br/&gt;\n&quot;</span><span class="c5">;</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c6 c1"><span class="c18">fwrite</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">, </span><span class="c15">&quot;QUIT\n&quot;</span><span class="c5">);</span></p><p class="c1 c9"><span class="c18">$buffer </span><span class="c5">= </span><span class="c18">fgets</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">, </span><span class="c18">1024</span><span class="c5">);</span></p><p class="c6 c1"><span class="c5">echo </span><span class="c18">$buffer</span><span class="c5">;</span></p><p class="c0 c6"><span class="c5"></span></p><p class="c6 c1"><span class="c18">fclose</span><span class="c5">(</span><span class="c18">$fp</span><span class="c5">);</span></p><p class="c1"><span class="c5">}</span></p><p class="c1"><span class="c18">?&gt;</span></p><p class="c0"><span class="c25"></span></p><p class="c1"><span>Es un ejemplo muy b&aacute;sico y sin utilidad pr&aacute;ctica, pero ilustra claramente c&oacute;mo debe conectarse y c&oacute;mo establecer una conversaci&oacute;n con el servidor SMTP, tan solo hay que continuar con los comandos oportunos. </span></p><p class="c0"><span></span></p><h3 class="c1"><a name="h.2kgfovam1xap"></a><span>3.2.2 Protocolo</span></h3><p class="c0"><span></span></p><p class="c1"><span>Una conversaci&oacute;n real que s&iacute; provocar&iacute;a el env&iacute;o ser&iacute;a la siguiente:</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2 c12">001 &gt;&gt; 220 api.teenvio.com ESMTP API teenvio.com Thu, 12 Sep 2013 13:59:15 +0200</span></p><p class="c1"><span class="c2 c12">002 &lt;&lt; EHLO MaquinaPrueba</span></p><p class="c1"><span class="c2 c12">003 &gt;&gt; 250-api.teenvio.com ESMTP API teenvio.com. Hola MaquinaPrueba!</span></p><p class="c1"><span class="c2 c12">004 &gt;&gt; 250-Recuerda que debes ser un usuario registrado de teenvio.com. http://teenvio.com/</span></p><p class="c1"><span class="c2 c12">005 &gt;&gt; 250-Usa este servicio con responsabilidad cumpliendo con las condiciones de uso.</span></p><p class="c1"><span class="c2 c12">006 &gt;&gt; 250-AUTH LOGIN</span></p><p class="c1"><span class="c2 c12">007 &gt;&gt; 250-SIZE 512000</span></p><p class="c1"><span class="c2 c12">008 &gt;&gt; 250-HELP</span></p><p class="c1"><span class="c2 c12">009 &gt;&gt; 250 AUTH LOGIN</span></p><p class="c1"><span class="c2 c12">010 &lt;&lt; AUTH LOGIN</span></p><p class="c1"><span class="c2 c12">011 &gt;&gt; 334 VXNlcm5hbWU6</span></p><p class="c1"><span class="c2 c12">012 &lt;&lt; [USUARIO EN BASE64]</span></p><p class="c1"><span class="c2 c12">013 &gt;&gt; 334 UGFzc3dvcmQ6</span></p><p class="c1"><span class="c2 c12">014 &lt;&lt; [PASSWORD EN BASE64]</span></p><p class="c1"><span class="c2 c12">015 &gt;&gt; 235 Authentication Succeeded</span></p><p class="c1"><span class="c2 c12">016 &lt;&lt; MAIL FROM:&lt;remitente@dominio.com&gt; SIZE=1307</span></p><p class="c1"><span class="c2 c12">017 &gt;&gt; 250 OK</span></p><p class="c1"><span class="c2 c12">018 &lt;&lt; RCPT TO:&lt;usuario@dominio.com&gt;</span></p><p class="c1"><span class="c2 c12">019 &gt;&gt; 250 Acepted</span></p><p class="c1"><span class="c2 c12">020 &lt;&lt; DATA</span></p><p class="c1"><span class="c2 c12">021 &gt;&gt; 354 Enter message, ending with &quot;.&quot; on a line by itself</span></p><p class="c1"><span class="c2 c12">022 &lt;&lt; Message-ID: &lt;5231AC96.9010208@dominio.com&gt;</span></p><p class="c1"><span class="c2 c12">023 &lt;&lt; Date: Thu, 12 Sep 2013 13:59:18 +0200</span></p><p class="c1"><span class="c2 c12">024 &lt;&lt; From: =?ISO-8859-1?Q?=22V=EDctor_J=2E_Chamorro=22?= &lt;victor@dominio.com&gt;</span></p><p class="c1"><span class="c2 c12">025 &lt;&lt; X-Teenvio-SocialLinks: yes</span></p><p class="c1"><span class="c2 c12">026 &lt;&lt; User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:10.0.12) Gecko/20130116 Thunderbird/10</span></p><p class="c1"><span class="c2 c12">027 &lt;&lt; MIME-Version: 1.0</span></p><p class="c1"><span class="c2 c12">028 &lt;&lt; To: usuario@dominio.com</span></p><p class="c1"><span class="c2 c12">029 &lt;&lt; Subject: prueba correo simple</span></p><p class="c1"><span class="c2 c12">030 &lt;&lt; Content-Type: multipart/alternative;</span></p><p class="c1"><span class="c2 c12">031 &lt;&lt; &nbsp;boundary=&quot;------------050004090406000109090608&quot;</span></p><p class="c1"><span class="c2 c12">032 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">033 &lt;&lt; This is a multi-part message in MIME format.</span></p><p class="c1"><span class="c2 c12">034 &lt;&lt; --------------050004090406000109090608</span></p><p class="c1"><span class="c2 c12">035 &lt;&lt; Content-Type: text/plain; charset=ISO-8859-1; format=flowed</span></p><p class="c1"><span class="c2 c12">036 &lt;&lt; Content-Transfer-Encoding: 8bit</span></p><p class="c1"><span class="c2 c12">037 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">038 &lt;&lt; Buenas,</span></p><p class="c1"><span class="c2 c12">039 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">040 &lt;&lt; Esto es un email *html* para probar el servidor smtp-api de teenvio</span></p><p class="c1"><span class="c2 c12">041 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">042 &lt;&lt; Un saludo,</span></p><p class="c1"><span class="c2 c12">043 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">044 &lt;&lt; _Victor J. Chamorro_ - teenvio.com</span></p><p class="c1"><span class="c2 c12">045 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">046 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">047 &lt;&lt; --------------050004090406000109090608</span></p><p class="c1"><span class="c2 c12">048 &lt;&lt; Content-Type: text/html; charset=ISO-8859-1</span></p><p class="c1"><span class="c2 c12">049 &lt;&lt; Content-Transfer-Encoding: 7bit</span></p><p class="c1"><span class="c2 c12">050 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">051 &lt;&lt; &lt;html&gt;</span></p><p class="c1"><span class="c2 c12">052 &lt;&lt; &nbsp; &lt;head&gt;</span></p><p class="c1"><span class="c2 c12">053 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;</span></p><p class="c1"><span class="c2 c12">054 &lt;&lt; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=ISO-8859-1&quot;&gt;</span></p><p class="c1"><span class="c2 c12">055 &lt;&lt; &nbsp; &lt;/head&gt;</span></p><p class="c1"><span class="c2 c12">056 &lt;&lt; &nbsp; &lt;body bgcolor=&quot;#FFFFFF&quot; text=&quot;#000000&quot;&gt;</span></p><p class="c1"><span class="c2 c12">057 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Buenas,&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">058 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">059 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esto es un email &lt;b&gt;html&lt;/b&gt; para probar el servidor smtp-api de</span></p><p class="c1"><span class="c2 c12">060 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;teenvio&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">061 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">062 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Un saludo,&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">063 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">064 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;u&gt;V&amp;iacute;ctor J. Chamorro&lt;/u&gt; - teenvio.com&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">065 &lt;&lt; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;</span></p><p class="c1"><span class="c2 c12">066 &lt;&lt; &nbsp; &lt;/body&gt;</span></p><p class="c1"><span class="c2 c12">067 &lt;&lt; &lt;/html&gt;</span></p><p class="c1"><span class="c2 c12">068 &lt;&lt;</span></p><p class="c1"><span class="c2 c12">069 &lt;&lt; --------------050004090406000109090608--</span></p><p class="c1"><span class="c2 c12">070 &lt;&lt; .</span></p><p class="c1"><span class="c2 c12">071 &gt;&gt; 250 OK id=1166 fa8896c2351f8b7e73ac3a3d209c6ac5</span></p><p class="c1"><span class="c2 c12">072 &lt;&lt; QUIT</span></p><p class="c1"><span class="c2 c12">073 &gt;&gt; 221 2.0.0 Closing connection.</span></p><p class="c0"><span class="c2 c12"></span></p><p class="c0"><span></span></p><p class="c1"><span>Paso a detallar paso por paso:</span></p><p class="c0"><span></span></p><p class="c1"><span>- Leyenda:</span></p><p class="c1 c9"><span>&ldquo;&gt;&gt;&rdquo; significa mensaje entrante, desde el servidor a nuestra m&aacute;quina.</span></p><p class="c1 c9"><span>&ldquo;&lt;&lt;&rdquo; significa mensaje saliente, desde nuestra m&aacute;quina al servidor.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 001 a la 009:</span></p><p class="c1 c9"><span>Es el protocolo de </span><span class="c7">saludos</span><span>, saludamos nosotros y el servidor nos saluda adem&aacute;s d&aacute;ndonos una serie de informaci&oacute;n, como el m&eacute;todo de login, el tama&ntilde;o m&aacute;ximo que permite por mensaje, etc.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 010 a la 015:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mecanismo de </span><span class="c7">login</span><span>, los mensajes codificados utilizan BASE64, no es un riesgo de seguridad mientras utilicemos la conexi&oacute;n con SSL o, en conexiones normales, lancemos una conexi&oacute;n segura con STARTTLS previa al login.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 016 a la 017:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identificamos el </span><span class="c7">remitente</span><span>&nbsp;que utilizaremos, debe estar activo y validado dentro del plan de teenvio, o fallar&aacute;.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 018 a la 019:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicamos un </span><span class="c7">destinatario</span><span>&nbsp;(TO:), estas dos l&iacute;neas deben repetirse por cada uno de los destinatarios a los que deseemos enviar, en el ejemplo solo hay un destinatario.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 020 a la 071:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Especificamos el </span><span class="c7">contenido</span><span>&nbsp;del email en s&iacute;.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 022 a la 031:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7">Cabeceras</span><span>&nbsp;principales del menaje, aqu&iacute; establecemos el asunto e indicamos que el mensaje est&aacute; compuesto por varias partes (</span><span class="c2 c12">Content-Type: multipart/alternative;) </span><span>entre otras cabeceras. Las &uacute;nicas cabeceras que utilizar&aacute; teenvio son la de Subject y las cabeceras propias X-Teenvio-*</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;nea 025:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ejemplo de cabecera con un par&aacute;metro para teenvio, en este caso establece que se deben mostrar los iconos con las redes sociales en el pi&eacute; del env&iacute;o. (Ver secci&oacute;n </span><span>2.3 Particularidades</span><span>)</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 034 a la 046:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parte de </span><span class="c7">texto plano</span><span>&nbsp;del email (</span><span class="c2 c12">Content-Type: text/plain;)</span><span>, es imprescindible.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 047 a la 069:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parte de </span><span class="c7">texto html</span><span>&nbsp;del email (</span><span class="c2 c12">Content-Type: text/html;</span><span>), es imprescindible, ser&aacute; lo que se vea en la mayor&iacute;a de gestores</span></p><p class="c0"><span class="c2 c12"></span></p><p class="c1"><span>- L&iacute;nea 070:</span></p><p class="c1 c9"><span>Indica el</span><span class="c7">&nbsp;f&iacute;n del contenido</span><span>&nbsp;del mensaje, muy importante. Es una l&iacute;nea nueva con s&oacute;lo un punto y un salto de l&iacute;nea.</span></p><p class="c0 c9"><span></span></p><p class="c1"><span>- L&iacute;nea 071:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;El servidor responde que el env&iacute;o se ha </span><span class="c7">cursado correctamente,</span><span>&nbsp;se empezar&aacute; a tramitar inmediatamente, informa adem&aacute;s, del </span><span class="c7">id interno del env&iacute;o lanzado</span><span>, junto con un identificador de env&iacute;o smtp.</span></p><p class="c0"><span></span></p><p class="c1"><span>- L&iacute;neas de la 072 a la 073:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7">Desconexi&oacute;n</span><span>, el cliente manda QUIT y el servidor se despide y finaliza la conexi&oacute;n.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span>Hay que recordar los siguientes puntos:</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- El remitente debe existir en el plan de teenvio del cliente logueado.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- El mensaje debe estar compuesto m&iacute;nimo por dos partes, texto plano y texto html.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- El tama&ntilde;o m&aacute;ximo del mensaje es de 500kb.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Si el servidor no responde 250 OK al comando DATA, no se cursar&aacute; ning&uacute;n env&iacute;o</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Los contactos son insertados y agrupados aunque no se finalice un env&iacute;o, lo que permite realizar importaciones sin enviar nada utilizando el comando DATA &uacute;nicamente con el punto de fin de contenido (l&iacute;nea 070)</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Los archivos adjuntos ser&aacute;n ignorados, salvo aquellos que est&eacute;n referenciados dentro del HTML, como las im&aacute;genes incrustadas (cid:), que ser&aacute;n transformadas en im&aacute;genes normales alojadas en los servidores de teenvio. (ver est&aacute;ndar </span><span class="c14 c12"><a class="c13" href="http://www.google.com/url?q=http%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc2392&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFTpbYw5RxJtQZT4aIb1J8PM30g0Q">rfc2392</a></span><span>)</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Junto con el OK final (l&iacute;nea 071) se manda el id del env&iacute;o interno reci&eacute;n generado. Este identificador puede usarse para consultar la estad&iacute;stica mediante api o simplemente distinguir el env&iacute;o generado de los dem&aacute;s.</span></p><p class="c0"><span></span></p><hr style="page-break-before:always;display:none;"><h1 class="c1 c8"><a name="h.67uuqqhfl5x7"></a></h1><h1 class="c1"><a name="h.t2nydwwjb3x7"></a><span>4. C</span><span>&oacute;digos de respuesta de error</span></h1><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">500 5.5.1 Invalid command / 551 Invalid command</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comando no reconocido</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">503 valid RCPT and MAIL command must precede DATA</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Antes de usar el comando DATA debes usar los comandos RCPT TO y MAIL FROM</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">504 A command parameter is not implemented.</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;El par&aacute;metro del comando no est&aacute; implementado y no es v&aacute;lido en este servidor</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">530 Authentication required</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Antes de realizar el comando debes loguearte</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">535 Authentication credentials invalid</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Los datos utilizados para el login no son v&aacute;lidos</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">552 message size exceeds fixed maximium message size (512000) bytes</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;El tama&ntilde;o del mensaje excede el m&aacute;ximo permitido</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">553 Remitente no existente o no validado desde su plan de teenvio</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No se acepta el remitente, debe existir en teenvio</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">500 Internal error - [Mensaje]</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error &nbsp;gen&eacute;rico, suele darse al haber alg&uacute;n problema con el comando DATA, el mensaje que acompa&ntilde;a a este error tiene la descripci&oacute;n exacta. Mediante este error se puede informar de env&iacute;os insuficientes, exceso de contactos, etc.</span></p><p class="c0"><span></span></p><p class="c1"><span class="c2">500 Syntax error</span></p><p class="c1"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comando no reconocido</span></p><p class="c0"><span></span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span></span></p><h1 class="c1"><a name="h.nezg06i9nqcz"></a><span>5. Guardado de datos</span></h1><p class="c0"><span></span></p><p class="c1"><span>Todas las campa&ntilde;as enviados desde protocolo SMTP son almacenadas en teenvio para su posterior consulta y manejo por el usuario.</span></p><p class="c0"><span></span></p><p class="c1"><span>Los contenidos y comportamientos identificables en la plataforma teenvio ser&aacute;n los siguientes:</span></p><p class="c0"><span></span></p><p class="c1"><span class="c7">Contactos:</span></p><p class="c0"><span></span></p><p class="c1"><span>Todos las cuentas de correo a las cuales se realice el env&iacute;o desde protocolo SMTP generar&aacute;n un grupo f&iacute;sico identificable en la subsecci&oacute;n &ldquo;Contactos/Grupos&rdquo; con un distintivo SMTP para ser f&aacute;cilmente identificables, donde se proceder&aacute; a la importaci&oacute;n y agrupaci&oacute;n de los contactos elegidos para el env&iacute;o.</span></p><p class="c0"><span></span></p><p class="c1"><span class="c7">Env&iacute;o:</span></p><p class="c0"><span></span></p><p class="c1"><span>Todos los env&iacute;os los cuales se realicen desde protocolo SMTP generar&aacute;n un env&iacute;o f&iacute;sico identificable en la subsecci&oacute;n &ldquo;Estad&iacute;sticas/Env&iacute;os&rdquo; con un distintivo SMTP para ser f&aacute;cilmente identificables.</span></p><p class="c0"><span></span></p><p class="c1"><span class="c7">Contenido:</span></p><p class="c0"><span></span></p><p class="c1"><span>El contenido HTML creado para el env&iacute;o se guardar&aacute; en la subsecci&oacute;n &ldquo;Piezas/Listado de Piezas&rdquo; con un distintivo SMTP para ser f&aacute;cilmente identificables.</span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span></span></p><p class="c0"><span class="c2 c12"></span></p></body></html>